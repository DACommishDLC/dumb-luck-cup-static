<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>DLC Admin - Game Management</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      background: #f5f5f5;
      padding: 20px;
    }
    
    .container {
      max-width: 1400px;
      margin: 0 auto;
      background: white;
      border-radius: 12px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      overflow: hidden;
    }
    
    header {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      padding: 30px;
    }
    
    h1 {
      font-size: 28px;
      margin-bottom: 5px;
    }
    
    .subtitle {
      opacity: 0.9;
      font-size: 14px;
    }
    
    .tabs {
      display: flex;
      border-bottom: 1px solid #e0e0e0;
      background: #fafafa;
    }
    
    .tab {
      padding: 15px 30px;
      cursor: pointer;
      border: none;
      background: none;
      font-size: 15px;
      font-weight: 500;
      color: #666;
      transition: all 0.2s;
    }
    
    .tab:hover {
      background: #f0f0f0;
    }
    
    .tab.active {
      color: #667eea;
      border-bottom: 3px solid #667eea;
      background: white;
    }
    
    .tab-content {
      display: none;
      padding: 30px;
    }
    
    .tab-content.active {
      display: block;
    }
    
    .stats-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
      margin-bottom: 30px;
    }
    
    .stat-card {
      background: linear-gradient(135deg, #667eea15 0%, #764ba215 100%);
      padding: 20px;
      border-radius: 8px;
      border-left: 4px solid #667eea;
    }
    
    .stat-value {
      font-size: 32px;
      font-weight: bold;
      color: #667eea;
      margin-bottom: 5px;
    }
    
    .stat-label {
      font-size: 14px;
      color: #666;
    }
    
    .controls {
      display: flex;
      gap: 15px;
      margin-bottom: 20px;
      flex-wrap: wrap;
      align-items: center;
    }
    
    .btn {
      padding: 10px 20px;
      border: none;
      border-radius: 6px;
      font-size: 14px;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.2s;
    }
    
    .btn-primary {
      background: #667eea;
      color: white;
    }
    
    .btn-primary:hover {
      background: #5568d3;
      transform: translateY(-1px);
      box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
    }
    
    .btn-secondary {
      background: #e0e0e0;
      color: #333;
    }
    
    .btn-secondary:hover {
      background: #d0d0d0;
    }
    
    .btn-success {
      background: #10b981;
      color: white;
    }
    
    .btn-success:hover {
      background: #059669;
    }
    
    .btn-danger {
      background: #ef4444;
      color: white;
    }
    
    .btn-danger:hover {
      background: #dc2626;
    }
    
    .filter-group {
      display: flex;
      gap: 10px;
      align-items: center;
    }
    
    select, input {
      padding: 8px 12px;
      border: 1px solid #d0d0d0;
      border-radius: 6px;
      font-size: 14px;
    }
    
    .search-box {
      flex: 1;
      max-width: 300px;
    }
    
    .games-table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
    }
    
    .games-table th {
      background: #fafafa;
      padding: 12px;
      text-align: left;
      font-weight: 600;
      font-size: 13px;
      color: #666;
      border-bottom: 2px solid #e0e0e0;
      position: sticky;
      top: 0;
    }
    
    .games-table td {
      padding: 12px;
      border-bottom: 1px solid #f0f0f0;
      font-size: 14px;
    }
    
    .games-table tr:hover {
      background: #f9f9f9;
    }
    
    .league-badge {
      display: inline-block;
      padding: 3px 8px;
      border-radius: 4px;
      font-size: 11px;
      font-weight: 600;
      text-transform: uppercase;
    }
    
    .league-nfl {
      background: #013369;
      color: white;
    }
    
    .league-fbs {
      background: #BB0000;
      color: white;
    }
    
    .status-badge {
      display: inline-block;
      padding: 4px 10px;
      border-radius: 12px;
      font-size: 11px;
      font-weight: 600;
    }
    
    .status-scheduled {
      background: #e0f2fe;
      color: #0369a1;
    }
    
    .status-live {
      background: #dcfce7;
      color: #15803d;
      animation: pulse 2s infinite;
    }
    
    .status-final {
      background: #f3f4f6;
      color: #6b7280;
    }
    
    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.7; }
    }
    
    .spread-editor {
      display: flex;
      align-items: center;
      gap: 8px;
    }
    
    .spread-value {
      font-weight: 600;
      color: #667eea;
      min-width: 50px;
    }
    
    .spread-input {
      width: 70px;
      padding: 4px 8px;
      border: 1px solid #d0d0d0;
      border-radius: 4px;
      font-size: 13px;
    }
    
    .last-updated {
      font-size: 11px;
      color: #999;
      font-style: italic;
    }
    
    .game-time {
      font-size: 12px;
      color: #666;
    }
    
    .matchup {
      font-weight: 500;
    }
    
    .upload-area {
      border: 2px dashed #d0d0d0;
      border-radius: 8px;
      padding: 40px;
      text-align: center;
      margin-bottom: 20px;
      background: #fafafa;
      transition: all 0.2s;
    }
    
    .upload-area:hover {
      border-color: #667eea;
      background: #f0f0ff;
    }
    
    .upload-area.dragover {
      border-color: #667eea;
      background: #e0e7ff;
    }
    
    .file-input {
      display: none;
    }
    
    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0,0,0,0.5);
      z-index: 1000;
      align-items: center;
      justify-content: center;
    }
    
    .modal.active {
      display: flex;
    }
    
    .modal-content {
      background: white;
      padding: 30px;
      border-radius: 12px;
      max-width: 500px;
      width: 90%;
      max-height: 80vh;
      overflow-y: auto;
    }
    
    .modal h2 {
      margin-bottom: 20px;
      color: #333;
    }
    
    .form-group {
      margin-bottom: 15px;
    }
    
    .form-group label {
      display: block;
      margin-bottom: 5px;
      font-weight: 500;
      color: #666;
      font-size: 13px;
    }
    
    .form-group input,
    .form-group select {
      width: 100%;
    }
    
    .action-buttons {
      display: flex;
      gap: 8px;
    }
    
    .icon-btn {
      padding: 6px 10px;
      background: none;
      border: 1px solid #d0d0d0;
      border-radius: 4px;
      cursor: pointer;
      font-size: 12px;
      transition: all 0.2s;
    }
    
    .icon-btn:hover {
      background: #f0f0f0;
    }
    
    .loading {
      display: none;
      text-align: center;
      padding: 20px;
      color: #667eea;
    }
    
    .loading.active {
      display: block;
    }
    
    .alert {
      padding: 12px 16px;
      border-radius: 6px;
      margin-bottom: 20px;
      display: none;
    }
    
    .alert.active {
      display: block;
    }
    
    .alert-success {
      background: #dcfce7;
      color: #15803d;
      border-left: 4px solid #10b981;
    }
    
    .alert-error {
      background: #fee2e2;
      color: #991b1b;
      border-left: 4px solid #ef4444;
    }
  </style>
  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>
  <script src="firebase-config.js"></script>
</head>
<body>
  <div class="container">
    <header>
      <h1>üèà Dumb Luck Cup - Game Management</h1>
      <p class="subtitle">Commissioner Admin Panel</p>
    </header>
    
    <div class="tabs">
      <button class="tab active" data-tab="overview">Overview</button>
      <button class="tab" data-tab="games">Manage Games</button>
      <button class="tab" data-tab="spreads">Update Spreads</button>
      <button class="tab" data-tab="load">Load New Week</button>
      <button class="tab" data-tab="scores">üèÜ Enter Scores</button>
    </div>
    
    <!-- Overview Tab -->
    <div class="tab-content active" data-content="overview">
      <div class="alert" id="alert"></div>
      
      <div class="stats-grid">
        <div class="stat-card">
          <div class="stat-value" id="totalGames">0</div>
          <div class="stat-label">Total Games This Week</div>
        </div>
        <div class="stat-card">
          <div class="stat-value" id="nflGames">0</div>
          <div class="stat-label">NFL Games</div>
        </div>
        <div class="stat-card">
          <div class="stat-value" id="fbsGames">0</div>
          <div class="stat-label">FBS Games</div>
        </div>
        <div class="stat-card">
          <div class="stat-value" id="liveGames">0</div>
          <div class="stat-label">Live Games</div>
        </div>
        <div class="stat-card">
          <div class="stat-value" id="lockedGames">0</div>
          <div class="stat-label">Locked Games</div>
        </div>
      </div>
      
      <h3 style="margin-bottom: 15px;">Quick Actions</h3>
      <div class="controls">
        <button class="btn btn-primary" onclick="refreshAllSpreads()">üîÑ Refresh All Spreads</button>
        <button class="btn btn-success" onclick="lockStartedGames()">üîí Lock Started Games</button>
        <button class="btn btn-secondary" onclick="exportGames()">üì• Export Games (CSV)</button>
        <button class="btn btn-danger" onclick="clearWeek()">üóëÔ∏è Clear Week</button>
        <button class="btn btn-secondary" onclick="DLC_DB.migrateFromLocalStorage()">üì§ Migrate to Firebase</button>
      </div>
      
      <h3 style="margin: 30px 0 15px;">Games Kicking Off Soon</h3>
      <table class="games-table">
        <thead>
          <tr>
            <th>Time</th>
            <th>League</th>
            <th>Matchup</th>
            <th>Current Spread</th>
            <th>Status</th>
          </tr>
        </thead>
        <tbody id="upcomingGames">
          <tr><td colspan="5" style="text-align: center; color: #999;">Loading...</td></tr>
        </tbody>
      </table>
    </div>
    
    <!-- Manage Games Tab -->
    <div class="tab-content" data-content="games">
      <div class="controls">
        <div class="filter-group">
          <select id="leagueFilter" onchange="filterGames()">
            <option value="all">All Leagues</option>
            <option value="NFL">NFL</option>
            <option value="FBS">FBS</option>
          </select>
          
          <select id="statusFilter" onchange="filterGames()">
            <option value="all">All Status</option>
            <option value="scheduled">Scheduled</option>
            <option value="live">Live</option>
            <option value="final">Final</option>
          </select>
          
          <input 
            type="text" 
            class="search-box" 
            id="searchBox" 
            placeholder="Search teams..."
            oninput="filterGames()"
          >
        </div>
        
        <button class="btn btn-primary" onclick="openAddGameModal()">+ Add Game</button>
      </div>
      
      <div style="max-height: 600px; overflow-y: auto;">
        <table class="games-table">
          <thead>
            <tr>
              <th>League</th>
              <th>Game Time</th>
              <th>Matchup</th>
              <th>Current Spread</th>
              <th>Last Updated</th>
              <th>Status</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody id="gamesTableBody">
            <tr><td colspan="7" style="text-align: center; color: #999;">Loading games...</td></tr>
          </tbody>
        </table>
      </div>
    </div>
    
    <!-- Update Spreads Tab -->
    <div class="tab-content" data-content="spreads">
      <h3>Bulk Spread Update</h3>
      <p style="color: #666; margin-bottom: 20px;">
        Update spreads for multiple games at once. Changes are saved immediately.
      </p>
      
      <div class="controls">
        <button class="btn btn-primary" onclick="refreshAllSpreads()">üîÑ Fetch Latest Spreads</button>
        <button class="btn btn-success" onclick="saveAllSpreads()">üíæ Save All Changes</button>
        <span style="margin-left: auto; color: #666; font-size: 13px;">
          Last refresh: <span id="lastRefresh">Never</span>
        </span>
      </div>
      
      <div style="max-height: 600px; overflow-y: auto; margin-top: 20px;">
        <table class="games-table">
          <thead>
            <tr>
              <th>League</th>
              <th>Matchup</th>
              <th>Game Time</th>
              <th>Current Spread</th>
              <th>New Spread</th>
              <th>Lock</th>
            </tr>
          </thead>
          <tbody id="spreadsTableBody">
            <tr><td colspan="6" style="text-align: center; color: #999;">Loading...</td></tr>
          </tbody>
        </table>
      </div>
    </div>
    
    <!-- Load New Week Tab -->
    <div class="tab-content" data-content="load">

      <!-- STEP 1: Paste from Yahoo -->
      <div style="background:#f0f4ff; border-left:4px solid #667eea; border-radius:8px; padding:20px; margin-bottom:28px;">
        <h3 style="margin-bottom:6px;">üìã How to load games from Yahoo Sports</h3>
        <ol style="color:#444; font-size:14px; line-height:2; margin-left:18px;">
          <li>Go to <strong>sports.yahoo.com/nfl/betting</strong> (or college-football)</li>
          <li>Find the weekly spreads article (e.g. "Full list of Week 8 spreads")</li>
          <li>Select all the game lines and copy them</li>
          <li>Paste below ‚Äî the parser does the rest</li>
        </ol>
      </div>

      <!-- Week + League selector -->
      <div class="controls" style="margin-bottom:16px;">
        <div class="filter-group">
          <label style="font-weight:500; font-size:14px;">Week:</label>
          <input type="number" id="pasteWeek" value="8" min="1" max="18" style="width:70px;">
          <label style="font-weight:500; font-size:14px; margin-left:10px;">League:</label>
          <select id="pasteLeague">
            <option value="NFL">NFL</option>
            <option value="FBS">FBS / College</option>
          </select>
        </div>
      </div>

      <!-- Paste area -->
      <textarea
        id="yahoopasteArea"
        placeholder="Paste the Yahoo Sports spreads text here...

Example:
Saturday, Jan. 3
Carolina Panthers at Tampa Bay Buccaneers (-3, 43.5)
Seattle Seahawks (-1, 49.5) at San Francisco 49ers

Sunday, Jan. 4
1 p.m. ET
New Orleans Saints at Atlanta Falcons (-2.5, 43.5)
Cleveland Browns at Cincinnati Bengals (-7.5, 44.5)
..."
        style="width:100%; height:220px; padding:14px; font-size:13px; font-family:monospace;
               border:2px solid #d0d0d0; border-radius:8px; resize:vertical; line-height:1.6;"
        oninput="previewParsedGames()"
      ></textarea>

      <div style="display:flex; gap:12px; margin-top:14px; align-items:center;">
        <button class="btn btn-primary" onclick="importParsedGames()">‚¨áÔ∏è Import These Games</button>
        <button class="btn btn-secondary" onclick="clearPaste()">Clear</button>
        <span id="parseCount" style="font-size:13px; color:#666;"></span>
      </div>

      <!-- Live preview table -->
      <div id="parsedPreview" style="margin-top:24px;"></div>

      <!-- Divider -->
      <div style="border-top:1px solid #e0e0e0; margin:36px 0;"></div>

      <!-- Test data fallback -->
      <h3 style="margin-bottom:10px;">Or load test data</h3>
      <p style="color:#666; font-size:13px; margin-bottom:14px;">101 sample games for Week 8 with realistic spreads ‚Äî useful for testing.</p>
      <button class="btn btn-secondary" onclick="loadWeek8TestData()">Load Week 8 Test Data (101 games)</button>
    </div>
  </div>
  
  <!-- Scores Tab -->
  <div class="tab-content" data-content="scores">

    <div style="background:#f0f4ff;border-left:4px solid #667eea;border-radius:8px;padding:20px;margin-bottom:24px;">
      <h3 style="margin-bottom:6px;">How scoring works</h3>
      <p style="color:#444;font-size:14px;line-height:1.8;">
        Enter the final score for each completed game. The app will automatically calculate
        each player's points using the <strong>locked spread</strong> (set at kickoff).<br>
        ‚úÖ Cover = <strong>2 pts</strong> &nbsp;¬∑&nbsp; ü§ù Push = <strong>1 pt</strong> &nbsp;¬∑&nbsp; ‚ùå No cover = <strong>0 pts</strong>
      </p>
    </div>

    <div class="controls" style="margin-bottom:16px;">
      <button class="btn btn-primary" onclick="scoreAllGames()">‚ö° Calculate All Scores</button>
      <button class="btn btn-secondary" onclick="exportScores()">üì• Export Scores (CSV)</button>
      <div style="margin-left:auto;font-size:13px;color:#666;">
        <span id="scoredCount">0</span> of <span id="finalCount">0</span> finished games scored
      </div>
    </div>

    <!-- Score Entry Table -->
    <div style="max-height:420px;overflow-y:auto;border:1px solid #e0e0e0;border-radius:8px;margin-bottom:28px;">
      <table class="games-table" id="scoresEntryTable">
        <thead>
          <tr>
            <th>League</th>
            <th>Matchup</th>
            <th>Locked Spread</th>
            <th style="width:90px;">Away Score</th>
            <th style="width:90px;">Home Score</th>
            <th>Result</th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody id="scoresTableBody">
          <tr><td colspan="7" style="text-align:center;color:#999;">Lock games first to enable score entry</td></tr>
        </tbody>
      </table>
    </div>

    <!-- Player Results Table -->
    <h3 style="margin-bottom:12px;">Player Pick Results</h3>
    <div style="overflow-x:auto;border:1px solid #e0e0e0;border-radius:8px;">
      <table class="games-table" id="playerResultsTable">
        <thead>
          <tr>
            <th>Player</th>
            <th>Picks</th>
            <th>Wins</th>
            <th>Pushes</th>
            <th>Losses</th>
            <th>Week Points</th>
          </tr>
        </thead>
        <tbody id="playerResultsBody">
          <tr><td colspan="6" style="text-align:center;color:#999;">No scored games yet</td></tr>
        </tbody>
      </table>
    </div>

  </div>

  <!-- Add/Edit Game Modal -->
  <div class="modal" id="gameModal">
    <div class="modal-content">
      <h2 id="modalTitle">Add New Game</h2>
      <form id="gameForm" onsubmit="saveGame(event)">
        <div class="form-group">
          <label>League</label>
          <select id="gameLeague" required>
            <option value="NFL">NFL</option>
            <option value="FBS">FBS</option>
          </select>
        </div>
        
        <div class="form-group">
          <label>Away Team</label>
          <input type="text" id="awayTeam" required>
        </div>
        
        <div class="form-group">
          <label>Home Team</label>
          <input type="text" id="homeTeam" required>
        </div>
        
        <div class="form-group">
          <label>Game Time (Local)</label>
          <input type="datetime-local" id="gameTime" required>
        </div>
        
        <div class="form-group">
          <label>Spread (negative = home favored)</label>
          <input type="number" step="0.5" id="gameSpread" required>
        </div>
        
        <div style="display: flex; gap: 10px; margin-top: 20px;">
          <button type="submit" class="btn btn-primary" style="flex: 1;">Save Game</button>
          <button type="button" class="btn btn-secondary" onclick="closeGameModal()">Cancel</button>
        </div>
      </form>
    </div>
  </div>
  
  <script>
    // In-memory database (will be replaced with Firebase/Supabase)
    let games = [];
    let currentEditingGame = null;
    
    // Initialize
    document.addEventListener('DOMContentLoaded', async () => {
      setupTabs();
      setupDragDrop();
      loadGames();
      updateStats();
      
      // Auto-refresh every 5 minutes
      setInterval(() => {
        if (document.visibilityState === 'visible') {
          loadGames();
        }
      }, 5 * 60 * 1000);
    });
    
    function setupTabs() {
      document.querySelectorAll('.tab').forEach(tab => {
        tab.addEventListener('click', () => {
          const tabName = tab.dataset.tab;
          
          // Update tabs
          document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
          tab.classList.add('active');
          
          // Update content
          document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
          document.querySelector(`[data-content="${tabName}"]`).classList.add('active');
          if (tabName === 'scores') renderScoresTab();
        });
      });
    }
    
    function setupDragDrop() {
      const uploadArea = document.getElementById('uploadArea');
      
      ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
        uploadArea.addEventListener(eventName, preventDefaults, false);
      });
      
      function preventDefaults(e) {
        e.preventDefault();
        e.stopPropagation();
      }
      
      ['dragenter', 'dragover'].forEach(eventName => {
        uploadArea.addEventListener(eventName, () => {
          uploadArea.classList.add('dragover');
        });
      });
      
      ['dragleave', 'drop'].forEach(eventName => {
        uploadArea.addEventListener(eventName, () => {
          uploadArea.classList.remove('dragover');
        });
      });
      
      uploadArea.addEventListener('drop', (e) => {
        const files = e.dataTransfer.files;
        if (files.length) {
          document.getElementById('fileInput').files = files;
          handleFileUpload({ target: { files } });
        }
      });
    }
    
    async function loadGames() {
      // Try Firebase first
      try {
        const fbGames = await DLC_DB.loadGames();
        if (fbGames && fbGames.length > 0) {
          games = fbGames;
        }
      } catch(e) {
        console.warn('Firebase load failed, trying localStorage');
      }
      
      // Fallback to localStorage
      if (games.length === 0) {
        const stored = localStorage.getItem('dlc_games');
        if (stored) {
          try {
            games = JSON.parse(stored);
          } catch(e) {
            games = [];
          }
        }
      }
      
      // If nothing stored yet, auto-load the 101 test games
      if (games.length === 0) {
        games = WEEK8_GAMES.map(g => ({...g, spreadLastUpdated: new Date().toISOString()}));
        await saveGames();
      }
      
      updateStats();
      renderGamesTable();
      renderSpreadsTable();
      renderUpcomingGames();
    }
    
    async function saveGames() {
      try {
        await DLC_DB.saveGames(games);
      } catch(e) {
        console.error('Error saving games:', e);
        // Fallback to localStorage
        try {
          localStorage.setItem('dlc_games', JSON.stringify(games));
        } catch(e2) {
          console.warn('localStorage full, keeping in memory only');
        }
      }
    }
    
    function updateStats() {
      const nfl = games.filter(g => g.league === 'NFL').length;
      const fbs = games.filter(g => g.league === 'FBS').length;
      const live = games.filter(g => g.status === 'live').length;
      const locked = games.filter(g => g.finalSpread !== null).length;
      
      document.getElementById('totalGames').textContent = games.length;
      document.getElementById('nflGames').textContent = nfl;
      document.getElementById('fbsGames').textContent = fbs;
      document.getElementById('liveGames').textContent = live;
      document.getElementById('lockedGames').textContent = locked;
    }
    
    function renderGamesTable() {
      const tbody = document.getElementById('gamesTableBody');
      const filtered = getFilteredGames();
      
      if (filtered.length === 0) {
        tbody.innerHTML = '<tr><td colspan="7" style="text-align: center; color: #999;">No games found</td></tr>';
        return;
      }
      
      tbody.innerHTML = filtered.map(game => `
        <tr>
          <td><span class="league-badge league-${game.league.toLowerCase()}">${game.league}</span></td>
          <td class="game-time">${formatGameTime(game.gameTime)}</td>
          <td class="matchup">${game.awayTeam} @ ${game.homeTeam}</td>
          <td><span class="spread-value">${formatSpread(game.currentSpread)}</span></td>
          <td class="last-updated">${formatTimeSince(game.spreadLastUpdated)}</td>
          <td><span class="status-badge status-${game.status}">${game.status}</span></td>
          <td class="action-buttons">
            <button class="icon-btn" onclick="editGame('${game.id}')">‚úèÔ∏è</button>
            <button class="icon-btn" onclick="deleteGame('${game.id}')">üóëÔ∏è</button>
          </td>
        </tr>
      `).join('');
    }
    
    function renderSpreadsTable() {
      const tbody = document.getElementById('spreadsTableBody');
      const scheduled = games.filter(g => g.status === 'scheduled');
      
      tbody.innerHTML = scheduled.map(game => `
        <tr>
          <td><span class="league-badge league-${game.league.toLowerCase()}">${game.league}</span></td>
          <td class="matchup">${game.awayTeam} @ ${game.homeTeam}</td>
          <td class="game-time">${formatGameTime(game.gameTime)}</td>
          <td><span class="spread-value">${formatSpread(game.currentSpread)}</span></td>
          <td>
            <input 
              type="number" 
              step="0.5" 
              class="spread-input" 
              value="${game.currentSpread}"
              onchange="updateGameSpread('${game.id}', this.value)"
            >
          </td>
          <td>
            <button 
              class="btn ${game.finalSpread ? 'btn-secondary' : 'btn-success'}" 
              style="padding: 6px 12px; font-size: 12px;"
              onclick="toggleLock('${game.id}')"
            >
              ${game.finalSpread ? 'üîì Unlock' : 'üîí Lock'}
            </button>
          </td>
        </tr>
      `).join('');
    }
    
    function renderUpcomingGames() {
      const tbody = document.getElementById('upcomingGames');
      const now = new Date();
      const upcoming = games
        .filter(g => g.status === 'scheduled')
        .filter(g => {
          const gameTime = new Date(g.gameTime);
          const hoursUntil = (gameTime - now) / (1000 * 60 * 60);
          return hoursUntil > 0 && hoursUntil < 24;
        })
        .sort((a, b) => new Date(a.gameTime) - new Date(b.gameTime))
        .slice(0, 10);
      
      if (upcoming.length === 0) {
        tbody.innerHTML = '<tr><td colspan="5" style="text-align: center; color: #999;">No games in next 24 hours</td></tr>';
        return;
      }
      
      tbody.innerHTML = upcoming.map(game => `
        <tr>
          <td class="game-time">${formatGameTime(game.gameTime)}</td>
          <td><span class="league-badge league-${game.league.toLowerCase()}">${game.league}</span></td>
          <td class="matchup">${game.awayTeam} @ ${game.homeTeam}</td>
          <td><span class="spread-value">${formatSpread(game.currentSpread)}</span></td>
          <td><span class="status-badge status-${game.status}">${game.status}</span></td>
        </tr>
      `).join('');
    }
    
    function getFilteredGames() {
      const league = document.getElementById('leagueFilter')?.value || 'all';
      const status = document.getElementById('statusFilter')?.value || 'all';
      const search = document.getElementById('searchBox')?.value.toLowerCase() || '';
      
      return games.filter(game => {
        const matchesLeague = league === 'all' || game.league === league;
        const matchesStatus = status === 'all' || game.status === status;
        const matchesSearch = search === '' || 
          game.homeTeam.toLowerCase().includes(search) ||
          game.awayTeam.toLowerCase().includes(search);
        
        return matchesLeague && matchesStatus && matchesSearch;
      });
    }
    
    function filterGames() {
      renderGamesTable();
    }
    
    function formatGameTime(isoString) {
      const date = new Date(isoString);
      return date.toLocaleString('en-US', {
        weekday: 'short',
        month: 'short',
        day: 'numeric',
        hour: 'numeric',
        minute: '2-digit'
      });
    }
    
    function formatSpread(spread) {
      return spread > 0 ? `+${spread}` : spread;
    }
    
    function formatTimeSince(isoString) {
      const date = new Date(isoString);
      const seconds = Math.floor((new Date() - date) / 1000);
      
      if (seconds < 60) return 'Just now';
      if (seconds < 3600) return `${Math.floor(seconds / 60)}m ago`;
      if (seconds < 86400) return `${Math.floor(seconds / 3600)}h ago`;
      return `${Math.floor(seconds / 86400)}d ago`;
    }
    
    function handleFileUpload(event) {
      const file = event.target.files[0];
      if (!file) return;
      
      document.getElementById('uploadLoading').classList.add('active');
      
      const reader = new FileReader();
      reader.onload = (e) => {
        try {
          const data = JSON.parse(e.target.result);
          
          if (data.games && Array.isArray(data.games)) {
            games = data.games;
            saveGames();
            updateStats();
            renderGamesTable();
            renderSpreadsTable();
            
            showAlert(`Successfully loaded ${games.length} games!`, 'success');
          } else {
            showAlert('Invalid file format. Expected { games: [...] }', 'error');
          }
        } catch (err) {
          showAlert('Error parsing file: ' + err.message, 'error');
        } finally {
          document.getElementById('uploadLoading').classList.remove('active');
        }
      };
      
      reader.readAsText(file);
    }
    
    // All 101 test games embedded directly
    const WEEK8_GAMES = [{"id": "game-1", "week": 8, "season": 2025, "league": "NFL", "homeTeam": "New Orleans Saints", "homeAbbr": "NO", "awayTeam": "Denver Broncos", "awayAbbr": "DEN", "gameTime": "2025-10-23T20:15:00Z", "currentSpread": -3.5, "spreadLastUpdated": "2026-02-17T01:05:28.018Z", "finalSpread": null, "status": "scheduled", "homeScore": null, "awayScore": null, "spreadResult": null}, {"id": "game-2", "week": 8, "season": 2025, "league": "NFL", "homeTeam": "Buffalo Bills", "homeAbbr": "BUF", "awayTeam": "Miami Dolphins", "awayAbbr": "MIA", "gameTime": "2025-10-26T17:00:00Z", "currentSpread": -6.5, "spreadLastUpdated": "2026-02-17T01:05:28.019Z", "finalSpread": null, "status": "scheduled", "homeScore": null, "awayScore": null, "spreadResult": null}, {"id": "game-3", "week": 8, "season": 2025, "league": "NFL", "homeTeam": "Philadelphia Eagles", "homeAbbr": "PHI", "awayTeam": "Dallas Cowboys", "awayAbbr": "DAL", "gameTime": "2025-10-26T17:00:00Z", "currentSpread": -3.5, "spreadLastUpdated": "2026-02-17T01:05:28.019Z", "finalSpread": null, "status": "scheduled", "homeScore": null, "awayScore": null, "spreadResult": null}, {"id": "game-4", "week": 8, "season": 2025, "league": "NFL", "homeTeam": "Detroit Lions", "homeAbbr": "DET", "awayTeam": "Green Bay Packers", "awayAbbr": "GB", "gameTime": "2025-10-26T17:00:00Z", "currentSpread": -2.5, "spreadLastUpdated": "2026-02-17T01:05:28.019Z", "finalSpread": null, "status": "scheduled", "homeScore": null, "awayScore": null, "spreadResult": null}, {"id": "game-5", "week": 8, "season": 2025, "league": "NFL", "homeTeam": "Cleveland Browns", "homeAbbr": "CLE", "awayTeam": "Pittsburgh Steelers", "awayAbbr": "PIT", "gameTime": "2025-10-26T17:00:00Z", "currentSpread": 3.5, "spreadLastUpdated": "2026-02-17T01:05:28.019Z", "finalSpread": null, "status": "scheduled", "homeScore": null, "awayScore": null, "spreadResult": null}, {"id": "game-6", "week": 8, "season": 2025, "league": "NFL", "homeTeam": "Indianapolis Colts", "homeAbbr": "IND", "awayTeam": "Tennessee Titans", "awayAbbr": "TEN", "gameTime": "2025-10-26T17:00:00Z", "currentSpread": -4, "spreadLastUpdated": "2026-02-17T01:05:28.019Z", "finalSpread": null, "status": "scheduled", "homeScore": null, "awayScore": null, "spreadResult": null}, {"id": "game-7", "week": 8, "season": 2025, "league": "NFL", "homeTeam": "Jacksonville Jaguars", "homeAbbr": "JAX", "awayTeam": "Houston Texans", "awayAbbr": "HOU", "gameTime": "2025-10-26T17:00:00Z", "currentSpread": 6.5, "spreadLastUpdated": "2026-02-17T01:05:28.019Z", "finalSpread": null, "status": "scheduled", "homeScore": null, "awayScore": null, "spreadResult": null}, {"id": "game-8", "week": 8, "season": 2025, "league": "NFL", "homeTeam": "New England Patriots", "homeAbbr": "NE", "awayTeam": "New York Jets", "awayAbbr": "NYJ", "gameTime": "2025-10-26T17:00:00Z", "currentSpread": 1.5, "spreadLastUpdated": "2026-02-17T01:05:28.019Z", "finalSpread": null, "status": "scheduled", "homeScore": null, "awayScore": null, "spreadResult": null}, {"id": "game-9", "week": 8, "season": 2025, "league": "NFL", "homeTeam": "Carolina Panthers", "homeAbbr": "CAR", "awayTeam": "Washington Commanders", "awayAbbr": "WAS", "gameTime": "2025-10-26T17:00:00Z", "currentSpread": 4.5, "spreadLastUpdated": "2026-02-17T01:05:28.019Z", "finalSpread": null, "status": "scheduled", "homeScore": null, "awayScore": null, "spreadResult": null}, {"id": "game-10", "week": 8, "season": 2025, "league": "NFL", "homeTeam": "Arizona Cardinals", "homeAbbr": "ARI", "awayTeam": "Los Angeles Chargers", "awayAbbr": "LAC", "gameTime": "2025-10-26T20:05:00Z", "currentSpread": 3, "spreadLastUpdated": "2026-02-17T01:05:28.019Z", "finalSpread": null, "status": "scheduled", "homeScore": null, "awayScore": null, "spreadResult": null}, {"id": "game-11", "week": 8, "season": 2025, "league": "NFL", "homeTeam": "San Francisco 49ers", "homeAbbr": "SF", "awayTeam": "Seattle Seahawks", "awayAbbr": "SEA", "gameTime": "2025-10-26T20:05:00Z", "currentSpread": -7, "spreadLastUpdated": "2026-02-17T01:05:28.019Z", "finalSpread": null, "status": "scheduled", "homeScore": null, "awayScore": null, "spreadResult": null}, {"id": "game-12", "week": 8, "season": 2025, "league": "NFL", "homeTeam": "Baltimore Ravens", "homeAbbr": "BAL", "awayTeam": "Cincinnati Bengals", "awayAbbr": "CIN", "gameTime": "2025-10-26T20:25:00Z", "currentSpread": -4.5, "spreadLastUpdated": "2026-02-17T01:05:28.019Z", "finalSpread": null, "status": "scheduled", "homeScore": null, "awayScore": null, "spreadResult": null}, {"id": "game-13", "week": 8, "season": 2025, "league": "NFL", "homeTeam": "Kansas City Chiefs", "homeAbbr": "KC", "awayTeam": "Las Vegas Raiders", "awayAbbr": "LV", "gameTime": "2025-10-26T20:25:00Z", "currentSpread": -9.5, "spreadLastUpdated": "2026-02-17T01:05:28.019Z", "finalSpread": null, "status": "scheduled", "homeScore": null, "awayScore": null, "spreadResult": null}, {"id": "game-14", "week": 8, "season": 2025, "league": "NFL", "homeTeam": "Minnesota Vikings", "homeAbbr": "MIN", "awayTeam": "Chicago Bears", "awayAbbr": "CHI", "gameTime": "2025-10-27T00:20:00Z", "currentSpread": -5.5, "spreadLastUpdated": "2026-02-17T01:05:28.019Z", "finalSpread": null, "status": "scheduled", "homeScore": null, "awayScore": null, "spreadResult": null}, {"id": "game-15", "week": 8, "season": 2025, "league": "NFL", "homeTeam": "Tampa Bay Buccaneers", "homeAbbr": "TB", "awayTeam": "Atlanta Falcons", "awayAbbr": "ATL", "gameTime": "2025-10-28T00:15:00Z", "currentSpread": 1.5, "spreadLastUpdated": "2026-02-17T01:05:28.019Z", "finalSpread": null, "status": "scheduled", "homeScore": null, "awayScore": null, "spreadResult": null}, {"id": "game-16", "week": 8, "season": 2025, "league": "NFL", "homeTeam": "Los Angeles Rams", "homeAbbr": "LAR", "awayTeam": "New York Giants", "awayAbbr": "NYG", "gameTime": "2025-10-28T00:15:00Z", "currentSpread": -7.5, "spreadLastUpdated": "2026-02-17T01:05:28.019Z", "finalSpread": null, "status": "scheduled", "homeScore": null, "awayScore": null, "spreadResult": null}, {"id": "game-17", "week": 8, "season": 2025, "league": "FBS", "homeTeam": "San Diego State", "homeAbbr": "SDSU", "awayTeam": "Fresno State", "awayAbbr": "FRES", "gameTime": "2025-10-24T23:00:00Z", "currentSpread": -3, "spreadLastUpdated": "2026-02-17T01:05:28.019Z", "finalSpread": null, "status": "scheduled", "homeScore": null, "awayScore": null, "spreadResult": null}, {"id": "game-18", "week": 8, "season": 2025, "league": "FBS", "homeTeam": "UNLV", "homeAbbr": "UNLV", "awayTeam": "Air Force", "awayAbbr": "AFA", "gameTime": "2025-10-24T22:00:00Z", "currentSpread": -6.5, "spreadLastUpdated": "2026-02-17T01:05:28.019Z", "finalSpread": null, "status": "scheduled", "homeScore": null, "awayScore": null, "spreadResult": null}, {"id": "game-19", "week": 8, "season": 2025, "league": "FBS", "homeTeam": "Toledo", "homeAbbr": "TOL", "awayTeam": "Ball State", "awayAbbr": "BALL", "gameTime": "2025-10-24T23:00:00Z", "currentSpread": -10.5, "spreadLastUpdated": "2026-02-17T01:05:28.019Z", "finalSpread": null, "status": "scheduled", "homeScore": null, "awayScore": null, "spreadResult": null}, {"id": "game-20", "week": 8, "season": 2025, "league": "FBS", "homeTeam": "Michigan", "homeAbbr": "MICH", "awayTeam": "Michigan State", "awayAbbr": "MSU", "gameTime": "2025-10-25T16:00:00Z", "currentSpread": -10.5, "spreadLastUpdated": "2026-02-17T01:05:28.019Z", "finalSpread": null, "status": "scheduled", "homeScore": null, "awayScore": null, "spreadResult": null}, {"id": "game-21", "week": 8, "season": 2025, "league": "FBS", "homeTeam": "Oklahoma", "homeAbbr": "OU", "awayTeam": "Texas A&M", "awayAbbr": "TAMU", "gameTime": "2025-10-25T15:30:00Z", "currentSpread": -1.5, "spreadLastUpdated": "2026-02-17T01:05:28.019Z", "finalSpread": null, "status": "scheduled", "homeScore": null, "awayScore": null, "spreadResult": null}, {"id": "game-22", "week": 8, "season": 2025, "league": "FBS", "homeTeam": "Northwestern", "homeAbbr": "NW", "awayTeam": "Iowa", "awayAbbr": "IOWA", "gameTime": "2025-10-25T16:00:00Z", "currentSpread": 4.5, "spreadLastUpdated": "2026-02-17T01:05:28.019Z", "finalSpread": null, "status": "scheduled", "homeScore": null, "awayScore": null, "spreadResult": null}, {"id": "game-23", "week": 8, "season": 2025, "league": "FBS", "homeTeam": "Purdue", "homeAbbr": "PUR", "awayTeam": "Wisconsin", "awayAbbr": "WISC", "gameTime": "2025-10-25T16:00:00Z", "currentSpread": 7, "spreadLastUpdated": "2026-02-17T01:05:28.019Z", "finalSpread": null, "status": "scheduled", "homeScore": null, "awayScore": null, "spreadResult": null}, {"id": "game-24", "week": 8, "season": 2025, "league": "FBS", "homeTeam": "Illinois", "homeAbbr": "ILL", "awayTeam": "Indiana", "awayAbbr": "IND", "gameTime": "2025-10-25T16:00:00Z", "currentSpread": 3, "spreadLastUpdated": "2026-02-17T01:05:28.019Z", "finalSpread": null, "status": "scheduled", "homeScore": null, "awayScore": null, "spreadResult": null}, {"id": "game-25", "week": 8, "season": 2025, "league": "FBS", "homeTeam": "Rutgers", "homeAbbr": "RUT", "awayTeam": "Maryland", "awayAbbr": "MD", "gameTime": "2025-10-25T16:00:00Z", "currentSpread": 2.5, "spreadLastUpdated": "2026-02-17T01:05:28.019Z", "finalSpread": null, "status": "scheduled", "homeScore": null, "awayScore": null, "spreadResult": null}, {"id": "game-26", "week": 8, "season": 2025, "league": "FBS", "homeTeam": "Syracuse", "homeAbbr": "SYR", "awayTeam": "Boston College", "awayAbbr": "BC", "gameTime": "2025-10-25T16:00:00Z", "currentSpread": -4, "spreadLastUpdated": "2026-02-17T01:05:28.019Z", "finalSpread": null, "status": "scheduled", "homeScore": null, "awayScore": null, "spreadResult": null}, {"id": "game-27", "week": 8, "season": 2025, "league": "FBS", "homeTeam": "Virginia Tech", "homeAbbr": "VT", "awayTeam": "Georgia Tech", "awayAbbr": "GT", "gameTime": "2025-10-25T16:00:00Z", "currentSpread": -3.5, "spreadLastUpdated": "2026-02-17T01:05:28.019Z", "finalSpread": null, "status": "scheduled", "homeScore": null, "awayScore": null, "spreadResult": null}, {"id": "game-28", "week": 8, "season": 2025, "league": "FBS", "homeTeam": "NC State", "homeAbbr": "NCST", "awayTeam": "Wake Forest", "awayAbbr": "WAKE", "gameTime": "2025-10-25T16:00:00Z", "currentSpread": -6, "spreadLastUpdated": "2026-02-17T01:05:28.019Z", "finalSpread": null, "status": "scheduled", "homeScore": null, "awayScore": null, "spreadResult": null}, {"id": "game-29", "week": 8, "season": 2025, "league": "FBS", "homeTeam": "Kentucky", "homeAbbr": "UK", "awayTeam": "Vanderbilt", "awayAbbr": "VAN", "gameTime": "2025-10-25T16:00:00Z", "currentSpread": -8.5, "spreadLastUpdated": "2026-02-17T01:05:28.019Z", "finalSpread": null, "status": "scheduled", "homeScore": null, "awayScore": null, "spreadResult": null}, {"id": "game-30", "week": 8, "season": 2025, "league": "FBS", "homeTeam": "South Carolina", "homeAbbr": "SC", "awayTeam": "Missouri", "awayAbbr": "MIZZ", "gameTime": "2025-10-25T16:00:00Z", "currentSpread": 1.5, "spreadLastUpdated": "2026-02-17T01:05:28.019Z", "finalSpread": null, "status": "scheduled", "homeScore": null, "awayScore": null, "spreadResult": null}, {"id": "game-31", "week": 8, "season": 2025, "league": "FBS", "homeTeam": "Arkansas", "homeAbbr": "ARK", "awayTeam": "Mississippi State", "awayAbbr": "MSST", "gameTime": "2025-10-25T16:00:00Z", "currentSpread": -5.5, "spreadLastUpdated": "2026-02-17T01:05:28.019Z", "finalSpread": null, "status": "scheduled", "homeScore": null, "awayScore": null, "spreadResult": null}, {"id": "game-32", "week": 8, "season": 2025, "league": "FBS", "homeTeam": "Kansas", "homeAbbr": "KU", "awayTeam": "Kansas State", "awayAbbr": "KSU", "gameTime": "2025-10-25T16:00:00Z", "currentSpread": 7.5, "spreadLastUpdated": "2026-02-17T01:05:28.019Z", "finalSpread": null, "status": "scheduled", "homeScore": null, "awayScore": null, "spreadResult": null}, {"id": "game-33", "week": 8, "season": 2025, "league": "FBS", "homeTeam": "TCU", "homeAbbr": "TCU", "awayTeam": "Baylor", "awayAbbr": "BAY", "gameTime": "2025-10-25T16:00:00Z", "currentSpread": -2.5, "spreadLastUpdated": "2026-02-17T01:05:28.019Z", "finalSpread": null, "status": "scheduled", "homeScore": null, "awayScore": null, "spreadResult": null}, {"id": "game-34", "week": 8, "season": 2025, "league": "FBS", "homeTeam": "Texas Tech", "homeAbbr": "TTU", "awayTeam": "Oklahoma State", "awayAbbr": "OKST", "gameTime": "2025-10-25T16:00:00Z", "currentSpread": 3.5, "spreadLastUpdated": "2026-02-17T01:05:28.019Z", "finalSpread": null, "status": "scheduled", "homeScore": null, "awayScore": null, "spreadResult": null}, {"id": "game-35", "week": 8, "season": 2025, "league": "FBS", "homeTeam": "Navy", "homeAbbr": "NAVY", "awayTeam": "Charlotte", "awayAbbr": "CHAR", "gameTime": "2025-10-25T16:00:00Z", "currentSpread": -14, "spreadLastUpdated": "2026-02-17T01:05:28.019Z", "finalSpread": null, "status": "scheduled", "homeScore": null, "awayScore": null, "spreadResult": null}, {"id": "game-36", "week": 8, "season": 2025, "league": "FBS", "homeTeam": "Coastal Carolina", "homeAbbr": "CCU", "awayTeam": "Georgia Southern", "awayAbbr": "GASO", "gameTime": "2025-10-25T16:00:00Z", "currentSpread": -3, "spreadLastUpdated": "2026-02-17T01:05:28.019Z", "finalSpread": null, "status": "scheduled", "homeScore": null, "awayScore": null, "spreadResult": null}, {"id": "game-37", "week": 8, "season": 2025, "league": "FBS", "homeTeam": "Ohio", "homeAbbr": "OHIO", "awayTeam": "Bowling Green", "awayAbbr": "BGSU", "gameTime": "2025-10-25T16:00:00Z", "currentSpread": -6.5, "spreadLastUpdated": "2026-02-17T01:05:28.019Z", "finalSpread": null, "status": "scheduled", "homeScore": null, "awayScore": null, "spreadResult": null}, {"id": "game-38", "week": 8, "season": 2025, "league": "FBS", "homeTeam": "Miami (OH)", "homeAbbr": "M-OH", "awayTeam": "Western Michigan", "awayAbbr": "WMU", "gameTime": "2025-10-25T16:00:00Z", "currentSpread": 4, "spreadLastUpdated": "2026-02-17T01:05:28.019Z", "finalSpread": null, "status": "scheduled", "homeScore": null, "awayScore": null, "spreadResult": null}, {"id": "game-39", "week": 8, "season": 2025, "league": "FBS", "homeTeam": "Buffalo", "homeAbbr": "BUFF", "awayTeam": "Northern Illinois", "awayAbbr": "NIU", "gameTime": "2025-10-25T16:00:00Z", "currentSpread": 6.5, "spreadLastUpdated": "2026-02-17T01:05:28.019Z", "finalSpread": null, "status": "scheduled", "homeScore": null, "awayScore": null, "spreadResult": null}, {"id": "game-40", "week": 8, "season": 2025, "league": "FBS", "homeTeam": "Georgia", "homeAbbr": "UGA", "awayTeam": "Texas", "awayAbbr": "TEX", "gameTime": "2025-10-25T19:30:00Z", "currentSpread": -3.5, "spreadLastUpdated": "2026-02-17T01:05:28.019Z", "finalSpread": null, "status": "scheduled", "homeScore": null, "awayScore": null, "spreadResult": null}, {"id": "game-41", "week": 8, "season": 2025, "league": "FBS", "homeTeam": "Ohio State", "homeAbbr": "OSU", "awayTeam": "Penn State", "awayAbbr": "PSU", "gameTime": "2025-10-25T19:30:00Z", "currentSpread": -6, "spreadLastUpdated": "2026-02-17T01:05:28.019Z", "finalSpread": null, "status": "scheduled", "homeScore": null, "awayScore": null, "spreadResult": null}, {"id": "game-42", "week": 8, "season": 2025, "league": "FBS", "homeTeam": "Clemson", "homeAbbr": "CLEM", "awayTeam": "Florida State", "awayAbbr": "FSU", "gameTime": "2025-10-25T19:30:00Z", "currentSpread": -7, "spreadLastUpdated": "2026-02-17T01:05:28.019Z", "finalSpread": null, "status": "scheduled", "homeScore": null, "awayScore": null, "spreadResult": null}, {"id": "game-43", "week": 8, "season": 2025, "league": "FBS", "homeTeam": "Florida", "homeAbbr": "FLA", "awayTeam": "Auburn", "awayAbbr": "AUB", "gameTime": "2025-10-25T19:30:00Z", "currentSpread": -4.5, "spreadLastUpdated": "2026-02-17T01:05:28.019Z", "finalSpread": null, "status": "scheduled", "homeScore": null, "awayScore": null, "spreadResult": null}, {"id": "game-44", "week": 8, "season": 2025, "league": "FBS", "homeTeam": "Tennessee", "homeAbbr": "TENN", "awayTeam": "Ole Miss", "awayAbbr": "MISS", "gameTime": "2025-10-25T19:30:00Z", "currentSpread": -5, "spreadLastUpdated": "2026-02-17T01:05:28.019Z", "finalSpread": null, "status": "scheduled", "homeScore": null, "awayScore": null, "spreadResult": null}, {"id": "game-45", "week": 8, "season": 2025, "league": "FBS", "homeTeam": "Louisville", "homeAbbr": "LOU", "awayTeam": "Duke", "awayAbbr": "DUKE", "gameTime": "2025-10-25T19:30:00Z", "currentSpread": -8, "spreadLastUpdated": "2026-02-17T01:05:28.019Z", "finalSpread": null, "status": "scheduled", "homeScore": null, "awayScore": null, "spreadResult": null}, {"id": "game-46", "week": 8, "season": 2025, "league": "FBS", "homeTeam": "Pittsburgh", "homeAbbr": "PITT", "awayTeam": "Virginia", "awayAbbr": "UVA", "gameTime": "2025-10-25T19:30:00Z", "currentSpread": -9.5, "spreadLastUpdated": "2026-02-17T01:05:28.019Z", "finalSpread": null, "status": "scheduled", "homeScore": null, "awayScore": null, "spreadResult": null}, {"id": "game-47", "week": 8, "season": 2025, "league": "FBS", "homeTeam": "UCF", "homeAbbr": "UCF", "awayTeam": "Cincinnati", "awayAbbr": "CIN", "gameTime": "2025-10-25T19:30:00Z", "currentSpread": -5.5, "spreadLastUpdated": "2026-02-17T01:05:28.019Z", "finalSpread": null, "status": "scheduled", "homeScore": null, "awayScore": null, "spreadResult": null}, {"id": "game-48", "week": 8, "season": 2025, "league": "FBS", "homeTeam": "BYU", "homeAbbr": "BYU", "awayTeam": "Utah", "awayAbbr": "UTAH", "gameTime": "2025-10-25T19:30:00Z", "currentSpread": -6.5, "spreadLastUpdated": "2026-02-17T01:05:28.019Z", "finalSpread": null, "status": "scheduled", "homeScore": null, "awayScore": null, "spreadResult": null}, {"id": "game-49", "week": 8, "season": 2025, "league": "FBS", "homeTeam": "Iowa State", "homeAbbr": "ISU", "awayTeam": "West Virginia", "awayAbbr": "WVU", "gameTime": "2025-10-25T19:30:00Z", "currentSpread": -7.5, "spreadLastUpdated": "2026-02-17T01:05:28.019Z", "finalSpread": null, "status": "scheduled", "homeScore": null, "awayScore": null, "spreadResult": null}, {"id": "game-50", "week": 8, "season": 2025, "league": "FBS", "homeTeam": "Houston", "homeAbbr": "UH", "awayTeam": "Memphis", "awayAbbr": "MEM", "gameTime": "2025-10-25T19:30:00Z", "currentSpread": -3, "spreadLastUpdated": "2026-02-17T01:05:28.019Z", "finalSpread": null, "status": "scheduled", "homeScore": null, "awayScore": null, "spreadResult": null}, {"id": "game-51", "week": 8, "season": 2025, "league": "FBS", "homeTeam": "UAB", "homeAbbr": "UAB", "awayTeam": "South Florida", "awayAbbr": "USF", "gameTime": "2025-10-25T19:30:00Z", "currentSpread": 2.5, "spreadLastUpdated": "2026-02-17T01:05:28.019Z", "finalSpread": null, "status": "scheduled", "homeScore": null, "awayScore": null, "spreadResult": null}, {"id": "game-52", "week": 8, "season": 2025, "league": "FBS", "homeTeam": "Tulane", "homeAbbr": "TULN", "awayTeam": "North Texas", "awayAbbr": "UNT", "gameTime": "2025-10-25T19:30:00Z", "currentSpread": -10, "spreadLastUpdated": "2026-02-17T01:05:28.019Z", "finalSpread": null, "status": "scheduled", "homeScore": null, "awayScore": null, "spreadResult": null}, {"id": "game-53", "week": 8, "season": 2025, "league": "FBS", "homeTeam": "Marshall", "homeAbbr": "MRSH", "awayTeam": "James Madison", "awayAbbr": "JMU", "gameTime": "2025-10-25T19:30:00Z", "currentSpread": 5.5, "spreadLastUpdated": "2026-02-17T01:05:28.019Z", "finalSpread": null, "status": "scheduled", "homeScore": null, "awayScore": null, "spreadResult": null}, {"id": "game-54", "week": 8, "season": 2025, "league": "FBS", "homeTeam": "Eastern Michigan", "homeAbbr": "EMU", "awayTeam": "Kent State", "awayAbbr": "KENT", "gameTime": "2025-10-25T19:30:00Z", "currentSpread": -4, "spreadLastUpdated": "2026-02-17T01:05:28.019Z", "finalSpread": null, "status": "scheduled", "homeScore": null, "awayScore": null, "spreadResult": null}, {"id": "game-55", "week": 8, "season": 2025, "league": "FBS", "homeTeam": "Akron", "homeAbbr": "AKR", "awayTeam": "Central Michigan", "awayAbbr": "CMU", "gameTime": "2025-10-25T19:30:00Z", "currentSpread": 7, "spreadLastUpdated": "2026-02-17T01:05:28.019Z", "finalSpread": null, "status": "scheduled", "homeScore": null, "awayScore": null, "spreadResult": null}, {"id": "game-56", "week": 8, "season": 2025, "league": "FBS", "homeTeam": "Alabama", "homeAbbr": "ALA", "awayTeam": "LSU", "awayAbbr": "LSU", "gameTime": "2025-10-25T23:00:00Z", "currentSpread": -4.5, "spreadLastUpdated": "2026-02-17T01:05:28.019Z", "finalSpread": null, "status": "scheduled", "homeScore": null, "awayScore": null, "spreadResult": null}, {"id": "game-57", "week": 8, "season": 2025, "league": "FBS", "homeTeam": "Notre Dame", "homeAbbr": "ND", "awayTeam": "Stanford", "awayAbbr": "STAN", "gameTime": "2025-10-25T23:00:00Z", "currentSpread": -16.5, "spreadLastUpdated": "2026-02-17T01:05:28.019Z", "finalSpread": null, "status": "scheduled", "homeScore": null, "awayScore": null, "spreadResult": null}, {"id": "game-58", "week": 8, "season": 2025, "league": "FBS", "homeTeam": "Nebraska", "homeAbbr": "NEB", "awayTeam": "Minnesota", "awayAbbr": "MINN", "gameTime": "2025-10-25T23:00:00Z", "currentSpread": -2.5, "spreadLastUpdated": "2026-02-17T01:05:28.019Z", "finalSpread": null, "status": "scheduled", "homeScore": null, "awayScore": null, "spreadResult": null}, {"id": "game-59", "week": 8, "season": 2025, "league": "FBS", "homeTeam": "North Carolina", "homeAbbr": "UNC", "awayTeam": "Miami", "awayAbbr": "MIA", "gameTime": "2025-10-25T23:00:00Z", "currentSpread": 8.5, "spreadLastUpdated": "2026-02-17T01:05:28.019Z", "finalSpread": null, "status": "scheduled", "homeScore": null, "awayScore": null, "spreadResult": null}, {"id": "game-60", "week": 8, "season": 2025, "league": "FBS", "homeTeam": "West Virginia", "homeAbbr": "WVU", "awayTeam": "Arizona State", "awayAbbr": "ASU", "gameTime": "2025-10-25T23:00:00Z", "currentSpread": 3, "spreadLastUpdated": "2026-02-17T01:05:28.019Z", "finalSpread": null, "status": "scheduled", "homeScore": null, "awayScore": null, "spreadResult": null}, {"id": "game-61", "week": 8, "season": 2025, "league": "FBS", "homeTeam": "Colorado", "homeAbbr": "COLO", "awayTeam": "Arizona", "awayAbbr": "ARIZ", "gameTime": "2025-10-25T23:00:00Z", "currentSpread": -7.5, "spreadLastUpdated": "2026-02-17T01:05:28.019Z", "finalSpread": null, "status": "scheduled", "homeScore": null, "awayScore": null, "spreadResult": null}, {"id": "game-62", "week": 8, "season": 2025, "league": "FBS", "homeTeam": "SMU", "homeAbbr": "SMU", "awayTeam": "Tulsa", "awayAbbr": "TLSA", "gameTime": "2025-10-25T23:00:00Z", "currentSpread": -13.5, "spreadLastUpdated": "2026-02-17T01:05:28.019Z", "finalSpread": null, "status": "scheduled", "homeScore": null, "awayScore": null, "spreadResult": null}, {"id": "game-63", "week": 8, "season": 2025, "league": "FBS", "homeTeam": "UTSA", "homeAbbr": "UTSA", "awayTeam": "Rice", "awayAbbr": "RICE", "gameTime": "2025-10-25T23:00:00Z", "currentSpread": -9, "spreadLastUpdated": "2026-02-17T01:05:28.019Z", "finalSpread": null, "status": "scheduled", "homeScore": null, "awayScore": null, "spreadResult": null}, {"id": "game-64", "week": 8, "season": 2025, "league": "FBS", "homeTeam": "Louisiana Tech", "homeAbbr": "LT", "awayTeam": "New Mexico State", "awayAbbr": "NMSU", "gameTime": "2025-10-25T23:00:00Z", "currentSpread": -11, "spreadLastUpdated": "2026-02-17T01:05:28.019Z", "finalSpread": null, "status": "scheduled", "homeScore": null, "awayScore": null, "spreadResult": null}, {"id": "game-65", "week": 8, "season": 2025, "league": "FBS", "homeTeam": "Wyoming", "homeAbbr": "WYO", "awayTeam": "Utah State", "awayAbbr": "USU", "gameTime": "2025-10-25T23:00:00Z", "currentSpread": 4.5, "spreadLastUpdated": "2026-02-17T01:05:28.019Z", "finalSpread": null, "status": "scheduled", "homeScore": null, "awayScore": null, "spreadResult": null}, {"id": "game-66", "week": 8, "season": 2025, "league": "FBS", "homeTeam": "Colorado State", "homeAbbr": "CSU", "awayTeam": "New Mexico", "awayAbbr": "UNM", "gameTime": "2025-10-25T23:00:00Z", "currentSpread": -8, "spreadLastUpdated": "2026-02-17T01:05:28.019Z", "finalSpread": null, "status": "scheduled", "homeScore": null, "awayScore": null, "spreadResult": null}, {"id": "game-67", "week": 8, "season": 2025, "league": "FBS", "homeTeam": "USC", "homeAbbr": "USC", "awayTeam": "Notre Dame", "awayAbbr": "ND", "gameTime": "2025-10-25T23:30:00Z", "currentSpread": 2.5, "spreadLastUpdated": "2026-02-17T01:05:28.019Z", "finalSpread": null, "status": "scheduled", "homeScore": null, "awayScore": null, "spreadResult": null}, {"id": "game-68", "week": 8, "season": 2025, "league": "FBS", "homeTeam": "Texas", "homeAbbr": "TEX", "awayTeam": "TCU", "awayAbbr": "TCU", "gameTime": "2025-10-25T23:30:00Z", "currentSpread": -14, "spreadLastUpdated": "2026-02-17T01:05:28.019Z", "finalSpread": null, "status": "scheduled", "homeScore": null, "awayScore": null, "spreadResult": null}, {"id": "game-69", "week": 8, "season": 2025, "league": "FBS", "homeTeam": "Oregon State", "homeAbbr": "ORST", "awayTeam": "California", "awayAbbr": "CAL", "gameTime": "2025-10-25T23:30:00Z", "currentSpread": 3.5, "spreadLastUpdated": "2026-02-17T01:05:28.019Z", "finalSpread": null, "status": "scheduled", "homeScore": null, "awayScore": null, "spreadResult": null}, {"id": "game-70", "week": 8, "season": 2025, "league": "FBS", "homeTeam": "Boise State", "homeAbbr": "BSU", "awayTeam": "Nevada", "awayAbbr": "NEV", "gameTime": "2025-10-25T23:30:00Z", "currentSpread": -17, "spreadLastUpdated": "2026-02-17T01:05:28.019Z", "finalSpread": null, "status": "scheduled", "homeScore": null, "awayScore": null, "spreadResult": null}, {"id": "game-71", "week": 8, "season": 2025, "league": "FBS", "homeTeam": "San Jose State", "homeAbbr": "SJSU", "awayTeam": "Hawai'i", "awayAbbr": "HAW", "gameTime": "2025-10-25T23:30:00Z", "currentSpread": -6, "spreadLastUpdated": "2026-02-17T01:05:28.019Z", "finalSpread": null, "status": "scheduled", "homeScore": null, "awayScore": null, "spreadResult": null}, {"id": "game-72", "week": 8, "season": 2025, "league": "FBS", "homeTeam": "Oregon", "homeAbbr": "ORE", "awayTeam": "Washington", "awayAbbr": "WASH", "gameTime": "2025-10-26T02:30:00Z", "currentSpread": -8.5, "spreadLastUpdated": "2026-02-17T01:05:28.019Z", "finalSpread": null, "status": "scheduled", "homeScore": null, "awayScore": null, "spreadResult": null}, {"id": "game-73", "week": 8, "season": 2025, "league": "FBS", "homeTeam": "UCLA", "homeAbbr": "UCLA", "awayTeam": "Washington State", "awayAbbr": "WSU", "gameTime": "2025-10-26T02:30:00Z", "currentSpread": -4, "spreadLastUpdated": "2026-02-17T01:05:28.019Z", "finalSpread": null, "status": "scheduled", "homeScore": null, "awayScore": null, "spreadResult": null}, {"id": "game-74", "week": 8, "season": 2025, "league": "FBS", "homeTeam": "Fresno State", "homeAbbr": "FRES", "awayTeam": "Wyoming", "awayAbbr": "WYO", "gameTime": "2025-10-26T02:30:00Z", "currentSpread": -12.5, "spreadLastUpdated": "2026-02-17T01:05:28.019Z", "finalSpread": null, "status": "scheduled", "homeScore": null, "awayScore": null, "spreadResult": null}, {"id": "game-75", "week": 8, "season": 2025, "league": "FBS", "homeTeam": "Liberty", "homeAbbr": "LIB", "awayTeam": "Jacksonville State", "awayAbbr": "JVST", "gameTime": "2025-10-25T19:00:00Z", "currentSpread": -7.5, "spreadLastUpdated": "2026-02-17T01:05:28.019Z", "finalSpread": null, "status": "scheduled", "homeScore": null, "awayScore": null, "spreadResult": null}, {"id": "game-76", "week": 8, "season": 2025, "league": "FBS", "homeTeam": "Old Dominion", "homeAbbr": "ODU", "awayTeam": "Southern Miss", "awayAbbr": "USM", "gameTime": "2025-10-25T19:00:00Z", "currentSpread": -3, "spreadLastUpdated": "2026-02-17T01:05:28.019Z", "finalSpread": null, "status": "scheduled", "homeScore": null, "awayScore": null, "spreadResult": null}, {"id": "game-77", "week": 8, "season": 2025, "league": "FBS", "homeTeam": "Arkansas State", "homeAbbr": "ARST", "awayTeam": "Louisiana", "awayAbbr": "ULL", "gameTime": "2025-10-25T19:00:00Z", "currentSpread": 6, "spreadLastUpdated": "2026-02-17T01:05:28.019Z", "finalSpread": null, "status": "scheduled", "homeScore": null, "awayScore": null, "spreadResult": null}, {"id": "game-78", "week": 8, "season": 2025, "league": "FBS", "homeTeam": "Troy", "homeAbbr": "TROY", "awayTeam": "Appalachian State", "awayAbbr": "APP", "gameTime": "2025-10-25T19:00:00Z", "currentSpread": -2.5, "spreadLastUpdated": "2026-02-17T01:05:28.019Z", "finalSpread": null, "status": "scheduled", "homeScore": null, "awayScore": null, "spreadResult": null}, {"id": "game-79", "week": 8, "season": 2025, "league": "FBS", "homeTeam": "Georgia State", "homeAbbr": "GAST", "awayTeam": "Texas State", "awayAbbr": "TXST", "gameTime": "2025-10-25T19:00:00Z", "currentSpread": 4.5, "spreadLastUpdated": "2026-02-17T01:05:28.019Z", "finalSpread": null, "status": "scheduled", "homeScore": null, "awayScore": null, "spreadResult": null}, {"id": "game-80", "week": 8, "season": 2025, "league": "FBS", "homeTeam": "FIU", "homeAbbr": "FIU", "awayTeam": "Western Kentucky", "awayAbbr": "WKU", "gameTime": "2025-10-25T19:00:00Z", "currentSpread": 9, "spreadLastUpdated": "2026-02-17T01:05:28.019Z", "finalSpread": null, "status": "scheduled", "homeScore": null, "awayScore": null, "spreadResult": null}, {"id": "game-81", "week": 8, "season": 2025, "league": "FBS", "homeTeam": "Middle Tennessee", "homeAbbr": "MTSU", "awayTeam": "Florida Atlantic", "awayAbbr": "FAU", "gameTime": "2025-10-25T19:00:00Z", "currentSpread": 5.5, "spreadLastUpdated": "2026-02-17T01:05:28.019Z", "finalSpread": null, "status": "scheduled", "homeScore": null, "awayScore": null, "spreadResult": null}, {"id": "game-82", "week": 8, "season": 2025, "league": "FBS", "homeTeam": "East Carolina", "homeAbbr": "ECU", "awayTeam": "Temple", "awayAbbr": "TEM", "gameTime": "2025-10-25T19:00:00Z", "currentSpread": -4, "spreadLastUpdated": "2026-02-17T01:05:28.019Z", "finalSpread": null, "status": "scheduled", "homeScore": null, "awayScore": null, "spreadResult": null}, {"id": "game-83", "week": 8, "season": 2025, "league": "FBS", "homeTeam": "Army", "homeAbbr": "ARMY", "awayTeam": "Air Force", "awayAbbr": "AFA", "gameTime": "2025-10-25T15:30:00Z", "currentSpread": -8.5, "spreadLastUpdated": "2026-02-17T01:05:28.019Z", "finalSpread": null, "status": "scheduled", "homeScore": null, "awayScore": null, "spreadResult": null}, {"id": "game-84", "week": 8, "season": 2025, "league": "FBS", "homeTeam": "UConn", "homeAbbr": "CONN", "awayTeam": "UMass", "awayAbbr": "UMASS", "gameTime": "2025-10-25T16:00:00Z", "currentSpread": -11, "spreadLastUpdated": "2026-02-17T01:05:28.019Z", "finalSpread": null, "status": "scheduled", "homeScore": null, "awayScore": null, "spreadResult": null}, {"id": "game-85", "week": 8, "season": 2025, "league": "FBS", "homeTeam": "Northern Colorado", "homeAbbr": "UNCO", "awayTeam": "Montana", "awayAbbr": "MONT", "gameTime": "2025-10-25T20:00:00Z", "currentSpread": 14, "spreadLastUpdated": "2026-02-17T01:05:28.019Z", "finalSpread": null, "status": "scheduled", "homeScore": null, "awayScore": null, "spreadResult": null}, {"id": "game-86", "week": 8, "season": 2025, "league": "FBS", "homeTeam": "South Dakota", "homeAbbr": "SDAK", "awayTeam": "North Dakota State", "awayAbbr": "NDSU", "gameTime": "2025-10-25T18:00:00Z", "currentSpread": 7.5, "spreadLastUpdated": "2026-02-17T01:05:28.019Z", "finalSpread": null, "status": "scheduled", "homeScore": null, "awayScore": null, "spreadResult": null}, {"id": "game-87", "week": 8, "season": 2025, "league": "FBS", "homeTeam": "South Dakota State", "homeAbbr": "SDSU-F", "awayTeam": "Missouri State", "awayAbbr": "MOST", "gameTime": "2025-10-25T18:00:00Z", "currentSpread": -13, "spreadLastUpdated": "2026-02-17T01:05:28.019Z", "finalSpread": null, "status": "scheduled", "homeScore": null, "awayScore": null, "spreadResult": null}, {"id": "game-88", "week": 8, "season": 2025, "league": "FBS", "homeTeam": "Northern Iowa", "homeAbbr": "UNI", "awayTeam": "Western Illinois", "awayAbbr": "WIU", "gameTime": "2025-10-25T18:00:00Z", "currentSpread": -17, "spreadLastUpdated": "2026-02-17T01:05:28.019Z", "finalSpread": null, "status": "scheduled", "homeScore": null, "awayScore": null, "spreadResult": null}, {"id": "game-89", "week": 8, "season": 2025, "league": "FBS", "homeTeam": "Illinois State", "homeAbbr": "ILST", "awayTeam": "Indiana State", "awayAbbr": "INST", "gameTime": "2025-10-25T18:00:00Z", "currentSpread": -9.5, "spreadLastUpdated": "2026-02-17T01:05:28.019Z", "finalSpread": null, "status": "scheduled", "homeScore": null, "awayScore": null, "spreadResult": null}, {"id": "game-90", "week": 8, "season": 2025, "league": "FBS", "homeTeam": "Youngstown State", "homeAbbr": "YSU", "awayTeam": "Southern Illinois", "awayAbbr": "SIU", "gameTime": "2025-10-25T18:00:00Z", "currentSpread": -5, "spreadLastUpdated": "2026-02-17T01:05:28.019Z", "finalSpread": null, "status": "scheduled", "homeScore": null, "awayScore": null, "spreadResult": null}, {"id": "game-91", "week": 8, "season": 2025, "league": "FBS", "homeTeam": "Weber State", "homeAbbr": "WEB", "awayTeam": "Idaho State", "awayAbbr": "IDST", "gameTime": "2025-10-25T21:00:00Z", "currentSpread": -18.5, "spreadLastUpdated": "2026-02-17T01:05:28.019Z", "finalSpread": null, "status": "scheduled", "homeScore": null, "awayScore": null, "spreadResult": null}, {"id": "game-92", "week": 8, "season": 2025, "league": "FBS", "homeTeam": "Sacramento State", "homeAbbr": "SAC", "awayTeam": "Portland State", "awayAbbr": "PSU-F", "gameTime": "2025-10-25T22:00:00Z", "currentSpread": -10, "spreadLastUpdated": "2026-02-17T01:05:28.019Z", "finalSpread": null, "status": "scheduled", "homeScore": null, "awayScore": null, "spreadResult": null}, {"id": "game-93", "week": 8, "season": 2025, "league": "FBS", "homeTeam": "UC Davis", "homeAbbr": "UCD", "awayTeam": "Cal Poly", "awayAbbr": "CP", "gameTime": "2025-10-25T22:00:00Z", "currentSpread": -6.5, "spreadLastUpdated": "2026-02-17T01:05:28.019Z", "finalSpread": null, "status": "scheduled", "homeScore": null, "awayScore": null, "spreadResult": null}, {"id": "game-94", "week": 8, "season": 2025, "league": "FBS", "homeTeam": "Eastern Washington", "homeAbbr": "EWU", "awayTeam": "Northern Arizona", "awayAbbr": "NAU", "gameTime": "2025-10-25T22:00:00Z", "currentSpread": -11.5, "spreadLastUpdated": "2026-02-17T01:05:28.019Z", "finalSpread": null, "status": "scheduled", "homeScore": null, "awayScore": null, "spreadResult": null}, {"id": "game-95", "week": 8, "season": 2025, "league": "FBS", "homeTeam": "Montana State", "homeAbbr": "MTST", "awayTeam": "Idaho", "awayAbbr": "IDA", "gameTime": "2025-10-25T20:00:00Z", "currentSpread": -15, "spreadLastUpdated": "2026-02-17T01:05:28.019Z", "finalSpread": null, "status": "scheduled", "homeScore": null, "awayScore": null, "spreadResult": null}, {"id": "game-96", "week": 8, "season": 2025, "league": "FBS", "homeTeam": "Jacksonville", "homeAbbr": "JAX-F", "awayTeam": "Stetson", "awayAbbr": "STET", "gameTime": "2025-10-25T19:00:00Z", "currentSpread": -8, "spreadLastUpdated": "2026-02-17T01:05:28.019Z", "finalSpread": null, "status": "scheduled", "homeScore": null, "awayScore": null, "spreadResult": null}, {"id": "game-97", "week": 8, "season": 2025, "league": "FBS", "homeTeam": "Davidson", "homeAbbr": "DAV", "awayTeam": "Marist", "awayAbbr": "MAR", "gameTime": "2025-10-25T17:00:00Z", "currentSpread": -5.5, "spreadLastUpdated": "2026-02-17T01:05:28.019Z", "finalSpread": null, "status": "scheduled", "homeScore": null, "awayScore": null, "spreadResult": null}, {"id": "game-98", "week": 8, "season": 2025, "league": "FBS", "homeTeam": "Dayton", "homeAbbr": "DAY", "awayTeam": "Morehead State", "awayAbbr": "MORE", "gameTime": "2025-10-25T17:00:00Z", "currentSpread": -12, "spreadLastUpdated": "2026-02-17T01:05:28.019Z", "finalSpread": null, "status": "scheduled", "homeScore": null, "awayScore": null, "spreadResult": null}, {"id": "game-99", "week": 8, "season": 2025, "league": "FBS", "homeTeam": "St. Thomas", "homeAbbr": "STTM", "awayTeam": "Butler", "awayAbbr": "BUTL", "gameTime": "2025-10-25T17:00:00Z", "currentSpread": -3.5, "spreadLastUpdated": "2026-02-17T01:05:28.019Z", "finalSpread": null, "status": "scheduled", "homeScore": null, "awayScore": null, "spreadResult": null}, {"id": "game-100", "week": 8, "season": 2025, "league": "FBS", "homeTeam": "Valparaiso", "homeAbbr": "VALP", "awayTeam": "Drake", "awayAbbr": "DRKE", "gameTime": "2025-10-25T17:00:00Z", "currentSpread": 8.5, "spreadLastUpdated": "2026-02-17T01:05:28.019Z", "finalSpread": null, "status": "scheduled", "homeScore": null, "awayScore": null, "spreadResult": null}, {"id": "game-101", "week": 8, "season": 2025, "league": "FBS", "homeTeam": "San Diego", "homeAbbr": "USD", "awayTeam": "Presbyterian", "awayAbbr": "PRES", "gameTime": "2025-10-25T22:00:00Z", "currentSpread": -14.5, "spreadLastUpdated": "2026-02-17T01:05:28.019Z", "finalSpread": null, "status": "scheduled", "homeScore": null, "awayScore": null, "spreadResult": null}];
    
    function loadWeek8TestData() {
      games = WEEK8_GAMES.map(g => ({...g, spreadLastUpdated: new Date().toISOString()}));
      saveGames();
      updateStats();
      renderGamesTable();
      renderSpreadsTable();
      renderUpcomingGames();
      showAlert(`Loaded ${games.length} games for Week 8 (16 NFL + 85 FBS)!`, 'success');
    }
    
    function updateGameSpread(gameId, newSpread) {
      const game = games.find(g => g.id === gameId);
      if (game) {
        game.currentSpread = parseFloat(newSpread);
        game.spreadLastUpdated = new Date().toISOString();
        saveGames();
      }
    }
    
    function toggleLock(gameId) {
      const game = games.find(g => g.id === gameId);
      if (game) {
        if (game.finalSpread === null) {
          // Lock it
          game.finalSpread = game.currentSpread;
          game.status = 'live';
          showAlert(`Locked ${game.homeTeam} vs ${game.awayTeam} at ${formatSpread(game.finalSpread)}`, 'success');
        } else {
          // Unlock it
          game.finalSpread = null;
          game.status = 'scheduled';
          showAlert(`Unlocked ${game.homeTeam} vs ${game.awayTeam}`, 'success');
        }
        saveGames();
        updateStats();
        renderGamesTable();
        renderSpreadsTable();
      }
    }
    
    function refreshAllSpreads() {
      // In production, this would call an API
      // For now, simulate with random small changes
      games.forEach(game => {
        if (game.status === 'scheduled') {
          const change = (Math.random() - 0.5) * 2;
          game.currentSpread = parseFloat((game.currentSpread + change).toFixed(1));
          game.spreadLastUpdated = new Date().toISOString();
        }
      });
      
      saveGames();
      renderGamesTable();
      renderSpreadsTable();
      document.getElementById('lastRefresh').textContent = new Date().toLocaleTimeString();
      showAlert('Spreads refreshed!', 'success');
    }
    
    function lockStartedGames() {
      const now = new Date();
      let locked = 0;
      
      games.forEach(game => {
        const gameTime = new Date(game.gameTime);
        if (game.status === 'scheduled' && gameTime <= now) {
          game.finalSpread = game.currentSpread;
          game.status = 'live';
          locked++;
        }
      });
      
      if (locked > 0) {
        saveGames();
        updateStats();
        renderGamesTable();
        renderSpreadsTable();
        showAlert(`Locked ${locked} games that have started`, 'success');
      } else {
        showAlert('No games needed to be locked', 'success');
      }
    }
    
    function openAddGameModal() {
      currentEditingGame = null;
      document.getElementById('modalTitle').textContent = 'Add New Game';
      document.getElementById('gameForm').reset();
      document.getElementById('gameModal').classList.add('active');
    }
    
    function editGame(gameId) {
      const game = games.find(g => g.id === gameId);
      if (!game) return;
      
      currentEditingGame = game;
      document.getElementById('modalTitle').textContent = 'Edit Game';
      document.getElementById('gameLeague').value = game.league;
      document.getElementById('awayTeam').value = game.awayTeam;
      document.getElementById('homeTeam').value = game.homeTeam;
      document.getElementById('gameTime').value = new Date(game.gameTime).toISOString().slice(0, 16);
      document.getElementById('gameSpread').value = game.currentSpread;
      document.getElementById('gameModal').classList.add('active');
    }
    
    function closeGameModal() {
      document.getElementById('gameModal').classList.remove('active');
      currentEditingGame = null;
    }
    
    function saveGame(event) {
      event.preventDefault();
      
      const gameData = {
        league: document.getElementById('gameLeague').value,
        awayTeam: document.getElementById('awayTeam').value,
        homeTeam: document.getElementById('homeTeam').value,
        gameTime: new Date(document.getElementById('gameTime').value).toISOString(),
        currentSpread: parseFloat(document.getElementById('gameSpread').value)
      };
      
      if (currentEditingGame) {
        // Update existing
        Object.assign(currentEditingGame, gameData);
        currentEditingGame.spreadLastUpdated = new Date().toISOString();
      } else {
        // Add new
        games.push({
          id: `game-${Date.now()}`,
          week: 8,
          season: 2025,
          ...gameData,
          homeAbbr: gameData.homeTeam.split(' ').pop().substring(0, 3).toUpperCase(),
          awayAbbr: gameData.awayTeam.split(' ').pop().substring(0, 3).toUpperCase(),
          spreadLastUpdated: new Date().toISOString(),
          finalSpread: null,
          status: 'scheduled',
          homeScore: null,
          awayScore: null
        });
      }
      
      saveGames();
      updateStats();
      renderGamesTable();
      renderSpreadsTable();
      closeGameModal();
      showAlert('Game saved successfully!', 'success');
    }
    
    function deleteGame(gameId) {
      if (!confirm('Are you sure you want to delete this game?')) return;
      
      games = games.filter(g => g.id !== gameId);
      saveGames();
      updateStats();
      renderGamesTable();
      showAlert('Game deleted', 'success');
    }
    
    function exportGames() {
      // Export to CSV
      const csv = [
        ['League', 'Away Team', 'Home Team', 'Game Time', 'Spread', 'Status'].join(','),
        ...games.map(g => [
          g.league,
          g.awayTeam,
          g.homeTeam,
          formatGameTime(g.gameTime),
          g.currentSpread,
          g.status
        ].join(','))
      ].join('\n');
      
      const blob = new Blob([csv], { type: 'text/csv' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = `dlc-week8-games-${new Date().toISOString().split('T')[0]}.csv`;
      a.click();
      
      showAlert('Games exported to CSV', 'success');
    }
    
    function clearWeek() {
      if (!confirm('This will delete ALL games for this week. Are you sure?')) return;
      
      games = [];
      saveGames();
      updateStats();
      renderGamesTable();
      renderSpreadsTable();
      showAlert('Week cleared', 'success');
    }
    
    function showAlert(message, type) {
      const alert = document.getElementById('alert');
      alert.textContent = message;
      alert.className = `alert alert-${type} active`;
      setTimeout(() => alert.classList.remove('active'), 5000);
    }


    // ‚îÄ‚îÄ‚îÄ Scoring Engine ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

    function renderScoresTab() {
      const locked = games.filter(g => g.finalSpread !== null);
      const scored = locked.filter(g => g.homeScore !== null);
      document.getElementById('finalCount').textContent = locked.length;
      document.getElementById('scoredCount').textContent = scored.length;
      renderScoreEntryTable();
      renderPlayerResults();
    }

    function renderScoreEntryTable() {
      const tbody = document.getElementById('scoresTableBody');
      const locked = games.filter(g => g.finalSpread !== null)
                          .sort((a,b) => new Date(a.gameTime) - new Date(b.gameTime));

      if (locked.length === 0) {
        tbody.innerHTML = '<tr><td colspan="7" style="text-align:center;color:#999;">No locked games yet ‚Äî lock games in the Spreads tab first</td></tr>';
        return;
      }

      tbody.innerHTML = locked.map(game => {
        const spread = game.finalSpread;
        const homeFavored = spread < 0;
        const favTeam = homeFavored ? game.homeTeam : game.awayTeam;
        const spreadDisplay = homeFavored
          ? `${game.homeAbbr} -${Math.abs(spread)}`
          : `${game.awayAbbr} -${Math.abs(spread)}`;

        const hasScore = game.homeScore !== null && game.awayScore !== null;
        const resultHTML = hasScore ? getGameResultBadge(game) : '<span style="color:#999;font-size:12px;">‚Äî</span>';

        return `
          <tr>
            <td><span class="league-badge league-${game.league.toLowerCase()}">${game.league}</span></td>
            <td style="font-weight:500;font-size:13px;">
              ${game.awayTeam} @ ${game.homeTeam}
            </td>
            <td style="font-weight:600;color:#667eea;font-size:13px;">üîí ${spreadDisplay}</td>
            <td>
              <input type="number" min="0" max="99" style="width:70px;padding:5px 8px;border:1px solid #d0d0d0;border-radius:5px;font-size:13px;text-align:center;"
                id="away-score-${game.id}"
                value="${game.awayScore !== null ? game.awayScore : ''}"
                placeholder="‚Äî"
                onchange="saveGameScore('${game.id}')">
            </td>
            <td>
              <input type="number" min="0" max="99" style="width:70px;padding:5px 8px;border:1px solid #d0d0d0;border-radius:5px;font-size:13px;text-align:center;"
                id="home-score-${game.id}"
                value="${game.homeScore !== null ? game.homeScore : ''}"
                placeholder="‚Äî"
                onchange="saveGameScore('${game.id}')">
            </td>
            <td id="result-${game.id}">${resultHTML}</td>
            <td>
              <button class="btn btn-success" style="padding:5px 12px;font-size:12px;" onclick="saveGameScore('${game.id}')">Save</button>
            </td>
          </tr>`;
      }).join('');
    }

    function getGameResultBadge(game) {
      if (game.homeScore === null || game.awayScore === null) return '‚Äî';
      const homeMargin = game.homeScore - game.awayScore;
      const coverMargin = homeMargin + game.finalSpread;
      let badge, label;
      if (coverMargin > 0) {
        badge = 'background:#dcfce7;color:#15803d';
        label = `${game.homeAbbr} covered ‚úÖ`;
      } else if (coverMargin < 0) {
        badge = 'background:#fee2e2;color:#991b1b';
        label = `${game.awayAbbr} covered ‚úÖ`;
      } else {
        badge = 'background:#fef9c3;color:#854d0e';
        label = 'Push ü§ù';
      }
      return `<span style="display:inline-block;padding:3px 8px;border-radius:4px;font-size:11px;font-weight:600;${badge}">${label} (${game.awayScore}-${game.homeScore})</span>`;
    }

    function saveGameScore(gameId) {
      const game = games.find(g => g.id === gameId);
      if (!game) return;

      const awayInput = document.getElementById(`away-score-${gameId}`);
      const homeInput = document.getElementById(`home-score-${gameId}`);

      const awayScore = awayInput.value !== '' ? parseInt(awayInput.value) : null;
      const homeScore = homeInput.value !== '' ? parseInt(homeInput.value) : null;

      if (awayScore === null || homeScore === null) return;
      if (isNaN(awayScore) || isNaN(homeScore)) return;

      game.awayScore = awayScore;
      game.homeScore = homeScore;
      game.status = 'final';

      saveGames();

      // Update the result badge inline
      document.getElementById(`result-${gameId}`).innerHTML = getGameResultBadge(game);

      renderPlayerResults();
      updateStats();
      showAlert(`Score saved: ${game.awayTeam} ${awayScore} - ${game.homeTeam} ${homeScore}`, 'success');
    }

    function scorePickResult(homeScore, awayScore, lockedSpread, pickedSide) {
      const homeMargin = homeScore - awayScore;
      const coverMargin = homeMargin + lockedSpread;
      const homeFavored = lockedSpread < 0;

      if (pickedSide === 'favorite') {
        if (homeFavored) {
          if (coverMargin > 0)  return { result: 'WIN',  points: 2 };
          if (coverMargin === 0) return { result: 'PUSH', points: 1 };
          return { result: 'LOSS', points: 0 };
        } else {
          const awayMargin = awayScore - homeScore;
          const awayCover = awayMargin - Math.abs(lockedSpread);
          if (awayCover > 0)  return { result: 'WIN',  points: 2 };
          if (awayCover === 0) return { result: 'PUSH', points: 1 };
          return { result: 'LOSS', points: 0 };
        }
      } else {
        // picked underdog
        if (homeFavored) {
          if (coverMargin < 0)  return { result: 'WIN',  points: 2 };
          if (coverMargin === 0) return { result: 'PUSH', points: 1 };
          return { result: 'LOSS', points: 0 };
        } else {
          if (coverMargin > 0)  return { result: 'WIN',  points: 2 };
          if (coverMargin === 0) return { result: 'PUSH', points: 1 };
          return { result: 'LOSS', points: 0 };
        }
      }
    }

    function renderPlayerResults() {
      const tbody = document.getElementById('playerResultsBody');
      const scoredGames = games.filter(g => g.homeScore !== null && g.finalSpread !== null);

      if (scoredGames.length === 0) {
        tbody.innerHTML = '<tr><td colspan="6" style="text-align:center;color:#999;">Enter final scores above to see player results</td></tr>';
        return;
      }

      // Get all player picks from localStorage
      const playerData = {};
      for (let i = 0; i < localStorage.length; i++) {
        const key = localStorage.key(i);
        if (key && key.startsWith('dlc_picks_')) {
          const playerName = key.replace('dlc_picks_', '');
          try {
            const picks = JSON.parse(localStorage.getItem(key));
            playerData[playerName] = picks;
          } catch(e) {}
        }
      }

      if (Object.keys(playerData).length === 0) {
        tbody.innerHTML = '<tr><td colspan="6" style="text-align:center;color:#999;">No player picks found yet</td></tr>';
        return;
      }

      // Calculate results per player
      const results = Object.entries(playerData).map(([player, picks]) => {
        let wins = 0, pushes = 0, losses = 0, totalPoints = 0, pickCount = 0;

        Object.entries(picks).forEach(([gameId, pick]) => {
          const game = scoredGames.find(g => g.id === gameId);
          if (!game) return; // game not scored yet

          pickCount++;
          const { result, points } = scorePickResult(
            game.homeScore, game.awayScore, game.finalSpread, pick.side
          );

          totalPoints += points;
          if (result === 'WIN')  wins++;
          if (result === 'PUSH') pushes++;
          if (result === 'LOSS') losses++;
        });

        return { player, pickCount, wins, pushes, losses, totalPoints };
      })
      .filter(r => r.pickCount > 0)
      .sort((a, b) => b.totalPoints - a.totalPoints);

      if (results.length === 0) {
        tbody.innerHTML = '<tr><td colspan="6" style="text-align:center;color:#999;">No picks match scored games yet</td></tr>';
        return;
      }

      tbody.innerHTML = results.map((r, idx) => `
        <tr style="${idx === 0 ? 'background:#f0fdf4;' : ''}">
          <td style="font-weight:700;font-size:14px;">
            ${idx === 0 ? 'ü•á ' : idx === 1 ? 'ü•à ' : idx === 2 ? 'ü•â ' : ''}${r.player}
          </td>
          <td style="font-size:13px;color:#666;">${r.pickCount} picks</td>
          <td style="color:#15803d;font-weight:600;">‚úÖ ${r.wins}</td>
          <td style="color:#854d0e;font-weight:600;">ü§ù ${r.pushes}</td>
          <td style="color:#991b1b;font-weight:600;">‚ùå ${r.losses}</td>
          <td style="font-size:20px;font-weight:800;color:#667eea;">${r.totalPoints}</td>
        </tr>
      `).join('');
    }

    function scoreAllGames() {
      const unscored = games.filter(g => g.finalSpread !== null && g.homeScore === null);
      if (unscored.length === 0) {
        showAlert('All locked games already have scores entered', 'success');
        return;
      }
      showAlert(`${unscored.length} games still need scores. Enter them in the table above.`, 'error');
    }

    function exportScores() {
      const scoredGames = games.filter(g => g.homeScore !== null && g.finalSpread !== null);
      if (scoredGames.length === 0) {
        showAlert('No scored games to export yet', 'error');
        return;
      }

      // Get all player picks
      const playerData = {};
      for (let i = 0; i < localStorage.length; i++) {
        const key = localStorage.key(i);
        if (key && key.startsWith('dlc_picks_')) {
          try {
            playerData[key.replace('dlc_picks_', '')] = JSON.parse(localStorage.getItem(key));
          } catch(e) {}
        }
      }

      const rows = [['Player', 'Game', 'Picked Team', 'Side', 'Locked Spread', 'Final Score', 'Result', 'Points']];

      Object.entries(playerData).forEach(([player, picks]) => {
        Object.entries(picks).forEach(([gameId, pick]) => {
          const game = scoredGames.find(g => g.id === gameId);
          if (!game) return;
          const { result, points } = scorePickResult(game.homeScore, game.awayScore, game.finalSpread, pick.side);
          rows.push([
            player,
            `${game.awayTeam} @ ${game.homeTeam}`,
            pick.team,
            pick.side,
            game.finalSpread,
            `${game.awayScore}-${game.homeScore}`,
            result,
            points
          ]);
        });
      });

      const csv = rows.map(r => r.join(',')).join('\n');
      const blob = new Blob([csv], { type: 'text/csv' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = `dlc-scores-week${games[0]?.week || 8}-${new Date().toISOString().split('T')[0]}.csv`;
      a.click();
      showAlert('Scores exported!', 'success');
    }

    // ‚îÄ‚îÄ‚îÄ Yahoo Sports Paste Parser ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

    function parseYahooSpreads(text) {
      const games = [];
      const lines = text.split('\n').map(l => l.trim()).filter(Boolean);

      let currentDay = '';
      let currentTime = '';

      const spreadPattern = /\((-?\d+\.?\d*),\s*\d+\.?\d*\)/;
      const gamePattern = /^(.+?)\s+at\s+(.+)$/i;

      for (const line of lines) {
        if (line.startsWith('[') || line.startsWith('*') || line.startsWith('#')
            || line.startsWith('Advertisement') || line.startsWith('http')
            || line.length < 8) continue;

        if (/^(Saturday|Sunday|Monday|Thursday|Friday|Tuesday|Wednesday),/i.test(line)) {
          currentDay = line;
          currentTime = '';
          continue;
        }

        if (/^\d+\s+(a\.m\.|p\.m\.)\s+ET$/i.test(line) ||
            /(Night Football|Afternoon|Morning)/i.test(line)) {
          currentTime = line;
          continue;
        }

        if (!spreadPattern.test(line)) continue;

        const gameMatch = line.match(gamePattern);
        if (!gameMatch) continue;

        const left  = gameMatch[1].trim();
        const right = gameMatch[2].trim();

        const leftSpread  = left.match(spreadPattern);
        const rightSpread = right.match(spreadPattern);

        let favoriteTeam, underdogTeam, spreadValue;

        if (leftSpread) {
          favoriteTeam  = left.replace(spreadPattern, '').trim();
          underdogTeam  = right.replace(spreadPattern, '').trim();
          spreadValue   = parseFloat(leftSpread[1]);
        } else {
          favoriteTeam  = right.replace(spreadPattern, '').trim();
          underdogTeam  = left.replace(spreadPattern, '').trim();
          spreadValue   = parseFloat(rightSpread[1]);
        }

        const homeTeam = right.replace(spreadPattern, '').trim();
        const awayTeam = left.replace(spreadPattern, '').trim();
        const homeSpread = (homeTeam === favoriteTeam) ? spreadValue : Math.abs(spreadValue);

        games.push({ awayTeam, homeTeam, favoriteTeam, spread: homeSpread, rawSpread: spreadValue, day: currentDay, time: currentTime });
      }

      return games;
    }

    function previewParsedGames() {
      const text = document.getElementById('yahoopasteArea').value;
      const parsed = parseYahooSpreads(text);
      const countEl = document.getElementById('parseCount');
      const preview = document.getElementById('parsedPreview');

      if (parsed.length === 0) {
        countEl.textContent = text.trim() ? '‚ö†Ô∏è No games found ‚Äî check format' : '';
        preview.innerHTML = '';
        return;
      }

      countEl.textContent = `‚úÖ ${parsed.length} game${parsed.length !== 1 ? 's' : ''} found`;

      const rows = parsed.map((g, i) => {
        const favLabel = g.spread <= 0
          ? `${g.homeTeam} (${g.spread})`
          : `${g.awayTeam} (${g.rawSpread})`;
        return `<tr>
          <td style="padding:8px 12px;font-size:13px;">${i + 1}</td>
          <td style="padding:8px 12px;font-size:13px;font-weight:500;">${g.awayTeam} @ ${g.homeTeam}</td>
          <td style="padding:8px 12px;font-size:13px;color:#667eea;font-weight:600;">${favLabel}</td>
          <td style="padding:8px 12px;font-size:12px;color:#999;">${g.time || g.day}</td>
        </tr>`;
      }).join('');

      preview.innerHTML = `
        <h4 style="margin-bottom:10px;color:#333;">Preview (${parsed.length} games)</h4>
        <div style="max-height:320px;overflow-y:auto;border:1px solid #e0e0e0;border-radius:8px;">
          <table style="width:100%;border-collapse:collapse;">
            <thead><tr style="background:#fafafa;">
              <th style="padding:8px 12px;text-align:left;font-size:12px;color:#666;">#</th>
              <th style="padding:8px 12px;text-align:left;font-size:12px;color:#666;">Matchup</th>
              <th style="padding:8px 12px;text-align:left;font-size:12px;color:#666;">Spread</th>
              <th style="padding:8px 12px;text-align:left;font-size:12px;color:#666;">Time</th>
            </tr></thead>
            <tbody>${rows}</tbody>
          </table>
        </div>`;
    }

    function importParsedGames() {
      const text   = document.getElementById('yahoopasteArea').value;
      const league = document.getElementById('pasteLeague').value;
      const week   = parseInt(document.getElementById('pasteWeek').value) || 8;
      const parsed = parseYahooSpreads(text);

      if (parsed.length === 0) {
        showAlert('No games found. Paste the Yahoo Sports spreads text first.', 'error');
        return;
      }

      const newGames = parsed.map((g, i) => ({
        id: `game-${Date.now()}-${i}`,
        week,
        season: 2025,
        league,
        homeTeam:          g.homeTeam,
        homeAbbr:          g.homeTeam.split(' ').slice(-1)[0].substring(0, 3).toUpperCase(),
        awayTeam:          g.awayTeam,
        awayAbbr:          g.awayTeam.split(' ').slice(-1)[0].substring(0, 3).toUpperCase(),
        gameTime:          new Date().toISOString(),
        currentSpread:     g.spread,
        spreadLastUpdated: new Date().toISOString(),
        finalSpread:       null,
        status:            'scheduled',
        homeScore:         null,
        awayScore:         null,
        spreadResult:      null
      }));

      games.push(...newGames);
      saveGames();
      updateStats();
      renderGamesTable();
      renderSpreadsTable();
      renderUpcomingGames();

      showAlert(`‚úÖ Imported ${newGames.length} ${league} games for Week ${week}!`, 'success');
      clearPaste();
      document.querySelector('[data-tab="games"]').click();
    }

    function clearPaste() {
      document.getElementById('yahoopasteArea').value = '';
      document.getElementById('parseCount').textContent = '';
      document.getElementById('parsedPreview').innerHTML = '';
    }
  </script>
</body>
</html>
